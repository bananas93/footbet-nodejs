{"version":3,"sources":["api/users.js","components/Loading/index.module.scss","components/Header/index.js","components/Footer/index.js","components/Layout/index.js","routes/ProtectedRoutes.js","routes/AuthRoutes.js","App.js","reportWebVitals.js","index.js","components/Header/index.module.scss","helpers/authHelper.js","utils/contexts.js","components/Layout/index.module.scss","components/Footer/index.module.scss","helpers/notification.js","components/Loading/index.js"],"names":["getInfo","user","tournament","tour","a","token","getJWToken","axios","get","process","headers","Authorization","getMyInfo","module","exports","Header","className","styles","header","headerNav","headerList","headerListItem","to","headerAdditionalList","headerAdditionalListItem","Footer","style","footer","footerCopyright","Layout","auth","socket","children","useState","title","setTitle","Provider","value","app","main","HomePage","lazy","TournamentsPage","TournamentPage","RulesPage","ProfilePage","ChatPage","ErrorPage","ProtectedRoutes","useRoutes","path","element","LoginPage","AuthRoutes","App","setSocket","useEffect","newSocket","io","query","close","checkAuthorization","fallback","Loading","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","getCookie","name","matches","cookie","match","RegExp","replace","decodeURIComponent","undefined","Boolean","AuthContext","React","createContext","SocketContext","TitleContext","notificationWrapper","error","message","notification","description","success","loading"],"mappings":"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","file":"static/js/main.a6a421ab.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { getJWToken } from '../helpers/authHelper';\r\n\r\nexport const getInfo = async (user, tournament, tour) => {\r\n  const token = getJWToken('JWToken');\r\n  return await axios.get(`${process.env.REACT_APP_LOCAL_API}/users/${user}/${tournament}/${tour}`, {\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getMyInfo = async () => {\r\n  const token = getJWToken('JWToken');\r\n  return await axios.get(`${process.env.REACT_APP_LOCAL_API}/users/me`, {\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__3mczw\"};","import { Link } from 'react-router-dom';\r\nimport styles from './index.module.scss';\r\n\r\nconst Header = () => (\r\n  <header className={styles.header}>\r\n    <nav className={styles.headerNav}>\r\n      <ul className={styles.headerList}>\r\n        <li className={styles.headerListItem}>\r\n          <Link to=\"/\">Головна</Link>\r\n        </li>\r\n        <li className={styles.headerListItem}>\r\n          <Link to=\"/tournaments\">Турніри</Link>\r\n        </li>\r\n        <li className={styles.headerListItem}>\r\n          <Link to=\"/rules\">Правила</Link>\r\n        </li>\r\n      </ul>\r\n      <ul className={styles.headerAdditionalList}>\r\n        <li className={styles.headerAdditionalListItem}>\r\n          <Link to=\"/profile\">Профіль</Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import style from './index.module.scss';\r\n\r\nconst Footer = () => (\r\n  <footer className={style.footer}>\r\n    <div className={style.footerCopyright}>Footbet.site © 2021 Created by David Amerov</div>\r\n  </footer>\r\n);\r\n\r\nexport default Footer;\r\n","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport { AuthContext, SocketContext, TitleContext } from '../../utils/contexts';\r\nimport Header from '../Header';\r\nimport Footer from '../Footer';\r\nimport styles from './index.module.scss';\r\n\r\nconst Layout = ({ auth, socket, children }) => {\r\n  const [title, setTitle] = useState('Footbet');\r\n  return (\r\n    <AuthContext.Provider value={auth}>\r\n      <SocketContext.Provider value={socket}>\r\n        <TitleContext.Provider value={{ title, setTitle }}>\r\n          <div className={`${styles.app} app`}>\r\n            {auth && (\r\n              <Header />\r\n            )}\r\n            <main className={styles.main}>\r\n              <h1 className={styles.title}>{title}</h1>\r\n              {children}\r\n            </main>\r\n            <Footer />\r\n          </div>\r\n        </TitleContext.Provider>\r\n      </SocketContext.Provider>\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nLayout.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.element,\r\n    PropTypes.func,\r\n    PropTypes.object,\r\n    PropTypes.array,\r\n  ]),\r\n  socket: PropTypes.object,\r\n  auth: PropTypes.bool,\r\n};\r\n\r\nexport default Layout;\r\n","import { lazy } from 'react';\r\nimport { useRoutes } from 'react-router-dom';\r\n\r\nconst HomePage = lazy(() => import('../views/HomePage'));\r\nconst TournamentsPage = lazy(() => import('../views/TournamentsPage'));\r\nconst TournamentPage = lazy(() => import('../views/TournamentPage'));\r\nconst RulesPage = lazy(() => import('../views/RulesPage'));\r\nconst ProfilePage = lazy(() => import('../views/ProfilePage'));\r\nconst ChatPage = lazy(() => import('../views/ChatPage'));\r\nconst ErrorPage = lazy(() => import('../views/Error'));\r\n\r\nexport const ProtectedRoutes = () => {\r\n  const routes = useRoutes(\r\n    [\r\n      { path: '/', element: <HomePage /> },\r\n      { path: '/tournaments', element: <TournamentsPage /> },\r\n      { path: '/tournament/:slug', element: <TournamentPage /> },\r\n      { path: '/rules', element: <RulesPage /> },\r\n      { path: '/profile', element: <ProfilePage /> },\r\n      { path: '/chat', element: <ChatPage /> },\r\n      { path: '*', element: <ErrorPage /> },\r\n    ],\r\n  );\r\n  return routes;\r\n};\r\n","import { lazy } from 'react';\r\nimport { useRoutes } from 'react-router-dom';\r\n\r\nconst LoginPage = lazy(() => import('../views/LoginPage'));\r\n\r\nexport const AuthRoutes = () => {\r\n  const routes = useRoutes(\r\n    [\r\n      { path: '/', element: <LoginPage /> },\r\n      { path: '*', element: <LoginPage /> },\r\n    ],\r\n  );\r\n  return routes;\r\n};\r\n","import { BrowserRouter as Router } from 'react-router-dom';\r\nimport { useState, useEffect, Suspense } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport Layout from './components/Layout';\r\nimport { checkAuthorization, getJWToken } from './helpers/authHelper';\r\nimport { ProtectedRoutes } from './routes/ProtectedRoutes';\r\nimport { AuthRoutes } from './routes/AuthRoutes';\r\nimport Loading from './components/Loading';\r\n\r\nfunction App() {\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = getJWToken();\r\n    const newSocket = io(process.env.REACT_APP_BASE_URL, {\r\n      query: { token },\r\n    });\r\n    setSocket(newSocket);\r\n    return () => {\r\n      newSocket.close();\r\n    };\r\n  }, []);\r\n\r\n  const auth = checkAuthorization();\r\n\r\n  return (\r\n    <Router>\r\n      <Layout socket={socket} auth={auth}>\r\n        <Suspense fallback={<Loading />}>\r\n          {auth ? (\r\n            <ProtectedRoutes />\r\n          ) : (\r\n            <AuthRoutes />\r\n          )}\r\n        </Suspense>\r\n      </Layout>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1OmjH\",\"headerNav\":\"Header_headerNav__1KtTN\",\"headerList\":\"Header_headerList__3a_My\",\"headerAdditionalList\":\"Header_headerAdditionalList__VAqhq\",\"headerListItem\":\"Header_headerListItem__ZfNQt\",\"headerAdditionalListItem\":\"Header_headerAdditionalListItem__2jrXD\"};","/* eslint-disable guard-for-in */\r\n/* eslint-disable no-restricted-syntax */\r\n/* eslint-disable no-useless-escape */\r\nimport { getMyInfo } from '../api/users';\r\nimport { notificationWrapper } from './notification';\r\n\r\nexport const getCookie = (name) => {\r\n  const matches = document.cookie.match(new RegExp(\r\n    `(?:^|; )${name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1')}=([^;]*)`,\r\n  ));\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n};\r\n\r\nexport const setCookie = (name, value, options = {}) => {\r\n  options = {\r\n    path: '/',\r\n    ...options,\r\n  };\r\n\r\n  if (options.expires instanceof Date) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie = `${encodeURIComponent(name)}=${encodeURIComponent(value)}`;\r\n\r\n  for (const optionKey in options) {\r\n    updatedCookie += `; ${optionKey}`;\r\n    const optionValue = options[optionKey];\r\n    if (optionValue !== true) {\r\n      updatedCookie += `=${optionValue}`;\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie;\r\n};\r\n\r\nexport const deleteCookie = (name) => {\r\n  setCookie(name, '', {\r\n    'max-age': -1,\r\n  });\r\n};\r\n\r\nexport const getJWToken = () => `Bearer ${getCookie('JWToken')}`;\r\n\r\nexport function checkAuthorization() {\r\n  return Boolean(getCookie('JWToken'));\r\n}\r\n\r\nexport const getUserInfo = async () => {\r\n  await getMyInfo()\r\n    .then((res) => {\r\n      if (res.status === 200) {\r\n        return res.data;\r\n      }\r\n      return false;\r\n    })\r\n    .catch((e) => {\r\n      notificationWrapper(true, `Помилка ${e.message}`);\r\n    });\r\n};\r\n\r\nexport const logout = () => {\r\n  deleteCookie('JWToken');\r\n  window.location.href = '/';\r\n};\r\n","import React from 'react';\r\n\r\nexport const AuthContext = React.createContext(false);\r\nexport const SocketContext = React.createContext({});\r\nexport const TitleContext = React.createContext({});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"Layout_app__1F26c\",\"main\":\"Layout_main__2gk5w\",\"title\":\"Layout_title__3wAWD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__T1BI6\",\"footerCopyright\":\"Footer_footerCopyright__1Nolv\"};","import { notification } from 'antd';\r\n\r\nexport const notificationWrapper = (error, message) => {\r\n  if (error) {\r\n    return notification.error({\r\n      message: 'Помилка',\r\n      description: message,\r\n    });\r\n  }\r\n  return notification.success({\r\n    message: 'Успіх',\r\n    description: message,\r\n  });\r\n};\r\n","import { Spin } from 'antd';\r\nimport styles from './index.module.scss';\r\n\r\nconst Loading = () => (\r\n  <div className={styles.loading}><Spin /></div>\r\n);\r\n\r\nexport default Loading;\r\n"],"sourceRoot":""}