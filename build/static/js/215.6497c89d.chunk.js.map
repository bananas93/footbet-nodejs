{"version":3,"file":"static/js/215.6497c89d.chunk.js","mappings":"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","sources":["api/auth.js","webpack://client/./src/components/Card/index.module.scss?78fc","components/Card/index.js","webpack://client/./src/components/Divider/index.module.scss?7352","components/Divider/index.js","webpack://client/./src/components/Input/index.module.scss?bca5","components/Input/index.js","webpack://client/./src/views/ProfilePage/index.module.scss?1ada","views/ProfilePage/index.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import axios from 'axios';\nimport { getJWToken } from '../helpers/authHelper';\n\nexport const login = async ({ email, password }) => await axios.post(`${process.env.REACT_APP_LOCAL_API}/users/login`, { email, password });\n\nexport const register = async ({ email, name, password }) => axios({\n  method: 'post',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  url: `${process.env.REACT_APP_LOCAL_API}/users/register`,\n  data: { email, name, password },\n});\n\nexport const getUserDetails = async () => {\n  const token = getJWToken();\n  return await axios.get(`${process.env.REACT_APP_LOCAL_API}/users/me`, {\n    headers: {\n      Authorization: token,\n    },\n  });\n};\n\nexport const updateUserDetails = async ({ email, name, password }) => {\n  const token = getJWToken();\n  return await axios({\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: token,\n    },\n    url: `${process.env.REACT_APP_LOCAL_API}/users/me`,\n    data: { email, name, password },\n  });\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Card_card__4-jbm\",\"cardTitle\":\"Card_cardTitle__d6oQG\",\"cardBody\":\"Card_cardBody__AWMIx\",\"cardBodyWithoutTitle\":\"Card_cardBodyWithoutTitle__KoSil\",\"cardAction\":\"Card_cardAction__X9Ik5\",\"cardMatchDate\":\"Card_cardMatchDate__ruzTr\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport styles from './index.module.scss';\n\nconst Card = ({\n  title, action, style, titleStyle, children,\n}) => (\n  <div className={styles.card} style={style}>\n    {title && (\n      <div className={styles.cardTitle} style={titleStyle}>\n        <span>{title}</span>\n        {action && (\n          <div className={styles.cardAction}>{action}</div>\n        )}\n      </div>\n    )}\n    <div className={cn(styles.cardBody, { [styles.cardBodyWithoutTitle]: !title })}>\n      {children}\n    </div>\n  </div>\n);\n\nCard.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  titleStyle: PropTypes.object,\n  action: PropTypes.node,\n};\n\nexport default Card;\n","// extracted by mini-css-extract-plugin\nexport default {\"divider\":\"Divider_divider__LITKG\"};","import PropTypes from 'prop-types';\nimport styles from './index.module.scss';\n\nconst Divider = ({ children }) => (\n  <div className={styles.divider}>\n    <span>{children}</span>\n  </div>\n);\n\nDivider.propTypes = {\n  children: PropTypes.any,\n};\n\nexport default Divider;\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Input_input__s4ezt\",\"inputError\":\"Input_inputError__Mk+NW\",\"inputReadOnly\":\"Input_inputReadOnly__MvJlc\",\"label\":\"Input_label__2youZ\",\"labelReadOnly\":\"Input_labelReadOnly__OY5tx\",\"error\":\"Input_error__2a+t8\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport styles from './index.module.scss';\n\nconst Input = ({\n  type, value, error, id, name, placeholder, label, readOnly, onChange, onFocus, onBlur,\n}) => (\n  <>\n    {label && (\n      <label\n        className={cn(styles.label, { [styles.labelReadOnly]: readOnly })}\n        htmlFor={name}\n      >\n        {label}\n      </label>\n    )}\n    <input\n      type={type}\n      value={value}\n      id={id}\n      name={name}\n      placeholder={placeholder}\n      className={cn(styles.input, { [styles.inputError]: error, [styles.inputReadOnly]: readOnly })}\n      readOnly={readOnly}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      onChange={onChange}\n    />\n    {error && (\n      <div className={styles.error}>{error}</div>\n    )}\n  </>\n);\n\nInput.propTypes = {\n  type: PropTypes.string,\n  value: PropTypes.string,\n  error: PropTypes.string,\n  label: PropTypes.string,\n  id: PropTypes.string,\n  name: PropTypes.string,\n  placeholder: PropTypes.string,\n  readOnly: PropTypes.bool,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n};\n\nexport default Input;\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"ProfilePage_row__AOVs+\",\"col\":\"ProfilePage_col__A-AXo\",\"inputWrap\":\"ProfilePage_inputWrap__cOyLF\",\"divider\":\"ProfilePage_divider__TsRKk\"};","import { useContext, useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport Button from '../../components/Button';\nimport Divider from '../../components/Divider';\nimport Input from '../../components/Input';\nimport Loading from '../../components/Loading';\nimport { getUserDetails, updateUserDetails } from '../../api/auth';\nimport { TitleContext } from '../../utils/contexts';\nimport styles from './index.module.scss';\nimport Card from '../../components/Card';\nimport { logout } from '../../helpers/authHelper';\n\nconst ProfilePage = () => {\n  const [loading, setLoading] = useState(true);\n  const [save, setSave] = useState(false);\n  const [formValues, setFormValues] = useState(['', '', '', '']);\n  const [formErrors, setFormErrors] = useState(['', '', '', '']);\n  const { setTitle } = useContext(TitleContext);\n  useEffect(() => {\n    setTitle('Профіль');\n  }, [setTitle]);\n\n  useEffect(() => {\n    const loadUserData = async () => {\n      try {\n        const res = await getUserDetails();\n        if (res.status && res.status === 200) {\n          setFormValues([res.data.email, res.data.name, '', '']);\n        }\n      } catch (error) {\n        toast.error(error.message, 3000);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadUserData();\n  }, []);\n\n  const isValid = () => {\n    const formErrorsNew = [...formErrors];\n\n    const isConfirmPassValid = formValues[2] === formValues[3];\n\n    if (!isConfirmPassValid) {\n      formErrorsNew[2] = ' ';\n      formErrorsNew[3] = 'Паролі не співпадають';\n    }\n    if (!formValues[1]) formErrorsNew[1] = 'Ім\\'я обов\\'язкове';\n\n    formErrorsNew.length && setFormErrors(formErrorsNew);\n\n    return !formErrorsNew.some((i) => i);\n  };\n\n  const changeProfile = async (e) => {\n    e.preventDefault();\n    if (isValid()) {\n      setSave(true);\n      const values = {\n        email: formValues[0],\n        name: formValues[1],\n        password: formValues[2],\n      };\n      try {\n        const res = await updateUserDetails(values);\n        if (res.status && res.status === 201) {\n          setFormValues([res.data.email, res.data.name, '', '']);\n          toast.success('Профіль успішно оновлено', 3000);\n        }\n      } catch (error) {\n        toast.error(error.message, 3000);\n      } finally {\n        setSave(false);\n      }\n    }\n  };\n\n  const onInputChange = (value, index) => {\n    const formValuesNew = formValues.map((i, ind) => (index === ind ? value.trim() : i));\n    setFormValues(formValuesNew);\n  };\n\n  const onClearError = (index) => {\n    if (!formErrors[index]) return;\n    const formErrorsNew = formErrors.map((i, ind) => (ind === index ? '' : i));\n    setFormErrors(formErrorsNew);\n  };\n\n  return (\n    <div className={styles.row}>\n      <div className={styles.col}>\n        <Card\n          titleStyle={{ marginBottom: '30px' }}\n          title=\"Оновити профіль\"\n          action={\n            <Button type=\"button\" style={{ fontWeight: '400', color: '#4169b8' }} variant=\"link\" onClick={logout}>Вийти</Button>\n          }\n        >\n          {loading ? (\n            <Loading />\n          ) : (\n            <form method=\"POST\" onSubmit={changeProfile} noValidate>\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  label=\"Введіть email\"\n                  value={formValues[0]}\n                  readOnly\n                  onChange={(e) => onInputChange(e.target.value, 0)}\n                  onFocus={() => onClearError(0)}\n                />\n              </div>\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  placeholder=\"Ім'я\"\n                  label=\"Введіть ім'я\"\n                  error={formErrors[1]}\n                  value={formValues[1]}\n                  onChange={(e) => onInputChange(e.target.value, 1)}\n                  onFocus={() => onClearError(1)}\n                />\n              </div>\n              <Divider />\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  placeholder=\"Пароль\"\n                  label=\"Введіть пароль\"\n                  error={formErrors[2]}\n                  value={formValues[2]}\n                  onChange={(e) => onInputChange(e.target.value, 2)}\n                  onFocus={() => onClearError(2)}\n                />\n              </div>\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  placeholder=\"Підтведити пароль\"\n                  label=\"Підтведіть пароль\"\n                  error={formErrors[3]}\n                  value={formValues[3]}\n                  onChange={(e) => onInputChange(e.target.value, 3)}\n                  onFocus={() => onClearError(3)}\n                />\n              </div>\n              <div className={styles.inputWrap}>\n                <Button type=\"submit\" variant=\"primary\" isLoading={save}>\n                  {save ? ' Зберігання...' : 'Зберегти'}\n                </Button>\n              </div>\n            </form>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["login","email","password","axios","process","register","name","method","headers","url","data","getUserDetails","token","getJWToken","Authorization","updateUserDetails","title","action","style","titleStyle","children","className","styles","cn","type","value","error","id","placeholder","label","readOnly","onChange","onFocus","onBlur","htmlFor","useState","loading","setLoading","save","setSave","formValues","setFormValues","formErrors","setFormErrors","setTitle","useContext","TitleContext","useEffect","loadUserData","res","status","toast","message","isValid","formErrorsNew","length","some","i","changeProfile","e","preventDefault","values","onInputChange","index","formValuesNew","map","ind","trim","onClearError","Card","marginBottom","Button","fontWeight","color","variant","onClick","logout","Loading","onSubmit","noValidate","Input","target","Divider","isLoading","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}